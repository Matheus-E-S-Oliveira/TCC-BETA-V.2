<div class="body">
    <div class="fundo">
        <div class="container">
            <div class="container-card">
                <mat-card>
                    <mat-card-header>
                        <div mat-card-avatar class="cabecalho-image">
                            <img class="cabecalho-image" src="assets/imgs/bandeira.jpg" alt="Bandeira">
                        </div>
                        <mat-card-title style="text-align: left; font-size: 15px;">Ressaquinha MG</mat-card-title>
                        <mat-card-subtitle style="text-align: left; font-size: 13px;">Avaliação Geral dos serviços
                            prestados</mat-card-subtitle>
                    </mat-card-header>
                    <mat-card-content>
                        <img class="img-custom" src="assets/imgs/ressaquinha.jpg" alt="Igreja Ressaquinha" />
                    </mat-card-content>
                    <mat-card-actions>
                    </mat-card-actions>
                </mat-card>
            </div>
            <div class="container-card">
                <div class="rating-container">
                    <div class="circle-container">
                        <svg width="100" height="100" viewBox="0 0 100 100">
                            <circle cx="50" cy="50" r="45" class="circle-background"></circle>
                            <circle cx="50" cy="50" r="45" class="circle-progress"
                                [attr.stroke-dasharray]="circumference" [attr.stroke-dashoffset]="offset"></circle>
                        </svg>
                        <div class="rating-value">{{ generalAverage | number: '1.1-1' }}/4</div>
                    </div>
                    <div class="rating-info">
                        <p class="rating-votes">{{ totalVotes }} Avalições</p>
                        <p-rating [(ngModel)]="generalAverage" [readonly]="true" [disabled]="true" [cancel]="false"
                            [stars]="5"></p-rating>
                    </div>
                    <div class="rating-distribution">
                        <div class="rating-bar" *ngFor="let rating of ratings; let i = index">
                            <label>{{ rating.category }}</label>
                            <div class="bar-value">{{ rating.average | number: '1.1-1' }}</div>
                            <div class="bar-container">
                                <div class="bar" [style.width]="(rating.average / 5) * 100 + '%'">
                                </div>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
        </div>
    </div>
    <div style="width: 100%;" *ngIf="updateChartOptions()">
        <app-grafico-telas-grandes></app-grafico-telas-grandes>
    </div>
    <div style="width: 100%;" *ngIf="!updateChartOptions()">
        <app-grafico-telas-pequenas></app-grafico-telas-pequenas>
    </div>
    <div style="margin-bottom: 2%;">
        <app-card-com-rotas style="display: flex; width: 100%; justify-content: center; gap: 20px; flex-wrap: wrap;">
        </app-card-com-rotas>
    </div>
</div>